# ========================================
# AWS Free Tier Configuration (t3.micro)
# ========================================
# Цей Helm chart керується через Argo CD
# Image tag оновлюється автоматично через Jenkins pipeline
# Ресурси оптимізовані для t3.micro nodes (1 GB RAM)
# Для production збільште ресурси (див. README.md)

# Docker image configuration
image:
  repository: YOUR_AWS_ACCOUNT_ID.dkr.ecr.eu-north-1.amazonaws.com/project-django-app
  tag: v1.0.1
  pullPolicy: Always

# Replicas configuration (reduced for t3.micro)
replicaCount: 1

# Service configuration
service:
  type: LoadBalancer
  port: 80
  targetPort: 8000

# HPA (Horizontal Pod Autoscaler) configuration (adjusted for t3.micro)
autoscaling:
  enabled: true
  minReplicas: 1
  maxReplicas: 3
  targetCPUUtilizationPercentage: 70

# Resource limits and requests (adjusted for t3.micro nodes)
resources:
  limits:
    cpu: 200m
    memory: 256Mi
  requests:
    cpu: 100m
    memory: 128Mi

# ConfigMap - змінні середовища
config:
  DJANGO_SETTINGS_MODULE: "mysite.settings"
  DEBUG: "True"
  ALLOWED_HOSTS: "*"
  # PostgreSQL не розгорнуто в кластері - Django використовує SQLite за замовчуванням
